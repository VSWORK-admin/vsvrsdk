## Documentation

### I. Purpose
>The project is an extension of the VSVR SDK, used to generate bytecode required by the VSVR interaction SDK.

>When writing VSVR interaction logic, check out this project locally and write VSVR C# interaction code in this project. It is recommended to use Visual Studio for coding.

>VSVRDevTool Downloadï¼šhttps://oss.vswork.vip/Files/vsvr/2.7.3/VSVR-DevTools_v2.7.3.zip
### II. Usage Steps
#### 2.1 Entry Function
The code starts execution from the `Main()` function of the class `Dll_Project.DllMain`. The corresponding C# file is `/Dll_Project/DllMain.cs`. The entry function initializes the script configured in 2.4.2 (activates the GameObject where the script resides), as shown in the example:
```csharp
public static void Main()
{
    UnityEngine.Debug.Log("Dll Run Main !");

    foreach (var obj in DllManager.Instance.ExtralDatas)
    {
        if (obj.Target != null)
        {
            obj.Target.gameObject.SetActive(true);
        }
    }
}
```
#### 2.2 Writing Interaction Logic Code
###### 2.2.1 Creating Script Files
Create a `*.cs` file in the same directory as the `/Dll_Project/DllMain.cs` file. The filename should match the class name, such as `Click_show_hideDemo` in the project example (located at vsvrsdk project/Assets/Scenes/ILruntime_Example/Click_show_hide_Objs_Dll).

###### 2.2.2 Inheriting Classes
The code cannot directly inherit the `MonoBehaviour` class. Instead, it must inherit the `DllGenerateBase` wrapper class as a substitute.

#### 2.3 Generating Bytecode
###### 2.3.1 Setting Up Post-Build Events
In Visual Studio, go to Project -> 'Dll_Project' Properties -> Build Events -> Post-Build Event Command Line and fill in the absolute path of the project:
```
copy "$(TargetDir)$(ProjectName).dll" "D:\vsvrsdk\Assets\Scenes\ILruntimeSample\$(ProjectName)dll.bytes"

copy "$(TargetDir)$(ProjectName).pdb" "D:\vsvrsdk\Assets\Scenes\ILruntimeSample\$(ProjectName)pdb.bytes"
```

Alternatively, create a `DllProject` folder in the root directory of the Unity project, place the project in this folder, and specify the `.bytes` files to a relative directory like:
```
copy "$(TargetDir)$(ProjectName).dll" "$(SolutionDir)..\Assets\Scenes\ILruntimeSample\$(ProjectName).dll.bytes"

copy "$(TargetDir)$(ProjectName).pdb" "$(SolutionDir)..\Assets\Scenes\ILruntimeSample\$(ProjectName).pdb.bytes"
```

###### 2.3.2 Generating Bytecode
Set the solution configuration to `Release`.

After clicking Build -> Build Solution, two `.bytes` files will be automatically created: `Dll_Projectdll.bytes` and `Dll_Projectpdb.bytes`. These two files are the interaction logic bytecode files needed by the Unity scene.

If you configure the post-build event command line to point to the scene path in the Unity project directory, the generated bytecode files will automatically appear in the Unity scene path. If you keep the default `$(ProjectDir)unitybytes`, you will need to manually copy the two bytecode files from `unitybytes` to the scene directory within the Unity project after building.

#### 2.4 Unity Project Configuration
###### 2.4.1 Configuring Bytecode Loading
Drag the `DllManager.cs` component onto any object in the SDK scene (**only one `DllManager.cs` component can exist in a scene**), then drag `Dll_Projectdll.bytes` and `Dll_Projectpdb.bytes` into the corresponding `DllAsset` and `PdbAsset` fields.

###### 2.4.2 Configuring Interaction Scripts
Drag the `GeneralDllBehavior` component onto any object in the SDK scene, and fill in the `ScriptClassName` field with the name of the wrapper class (include the namespace if it exists, such as `Dll_Project.ClickDemo`; if there is no namespace, directly fill in the class name, such as `ClickDemo`). This class can now behave like a typical `MonoBehaviour` class in Unity.

Drag the object containing the `GeneralDllBehavior` component into the `ExtralDatas` field in the Inspector of the `DllManager` created in 2.4.1. If there are multiple `GeneralDllBehavior` components, set up multiple `ExtralDatas` entries in the `DllManager` and drag them in order.

###### 2.4.3 Configuring Script Initialization
**Manually set the object containing the `GeneralDllBehavior` component to inactive in the Inspector**. During initialization in the entry function, the component will be automatically activated (`SetActive(true)`), thereby completing the initialization.